<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Question</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 2rem; }
        .card { max-width: 600px; margin: auto; padding: 1.5rem; border: 1px solid #ccc; border-radius: 12px; }
        .q { font-size: 1.2rem; margin-bottom: 1rem; }
        #err { color: red; display: none; }
    </style>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="card">
    <h2>Here's your question</h2>
    <p id="q" class="q">Loading...</p>
    <button id="next">Get another</button>
    <p id="err"></p>
</div>
    
<script>
async function pickRandom() {
    document.getElementById("err").style.display = "none";

    try {
        const res = await fetch("questions.json", { cache: "no-store" });
        if (!res.ok) throw new Error("HTTP " + res.status + " " + res.statusText);

        const data = await res.json();
        if (!Array.isArray(data.questions)) throw new Error("Invalid JSON: missing 'questions' array");

        const list = data.questions;
        const idx = Math.floor(Math.random() * list.length);
        document.getElementById("q").textContent = list[idx];

    } catch (e) {
        console.error(e);
        document.getElementById("q").textContent = "Failed to load question.";
        document.getElementById("err").textContent = e.message;
        document.getElementById("err").style.display = "block";
    }
}

document.getElementById("next").addEventListener("click", pickRandom);
pickRandom();
</script>

</body>
</html>



